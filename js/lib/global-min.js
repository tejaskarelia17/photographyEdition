// JavaScript Document
(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY;};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev]);}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev]);};var handleHover=function(e){var p=(e.type=="mouseover"?e.fromElement:e.toElement)||e.relatedTarget;while(p&&p!=this){try{p=p.parentNode;}catch(e){p=this;}}if(p==this){return false;}var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);}if(e.type=="mouseover"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob);},cfg.timeout);}}};return this.mouseover(handleHover).mouseout(handleHover);};})(jQuery);;(function($){$.fn.superfish=function(op){var sf=$.fn.superfish,c=sf.c,$arrow=$(['<span class="',c.arrowClass,'">Â»</span>'].join('')),over=function(){var $$=$(this),menu=getMenu($$);clearTimeout(menu.sfTimer);$$.showSuperfishUl().siblings().hideSuperfishUl();},out=function(){var $$=$(this),menu=getMenu($$),o=sf.op;clearTimeout(menu.sfTimer);menu.sfTimer=setTimeout(function(){o.retainPath=($.inArray($$[0],o.$path)>-1);$$.hideSuperfishUl();if(o.$path.length&&$$.parents(['li.',o.hoverClass].join('')).length<1){over.call(o.$path);}},o.delay);},getMenu=function($menu){var menu=$menu.parents(['ul.',c.menuClass,':first'].join(''))[0];sf.op=sf.o[menu.serial];return menu;},addArrow=function($a){$a.addClass(c.anchorClass).append($arrow.clone());};return this.each(function(){var s=this.serial=sf.o.length;var o=$.extend({},sf.defaults,op);o.$path=$('li.'+o.pathClass,this).slice(0,o.pathLevels).each(function(){$(this).addClass([o.hoverClass,c.bcClass].join(' ')).filter('li:has(ul)').removeClass(o.pathClass);});sf.o[s]=sf.op=o;$('li:has(ul)',this)[($.fn.hoverIntent&&!o.disableHI)?'hoverIntent':'hover'](over,out).each(function(){if(o.autoArrows)addArrow($('>a:first-child',this));}).not('.'+c.bcClass).hideSuperfishUl();var $a=$('a',this);$a.each(function(i){var $li=$a.eq(i).parents('li');$a.eq(i).focus(function(){over.call($li);}).blur(function(){out.call($li);});});o.onInit.call(this);}).each(function(){var menuClasses=[c.menuClass];if(sf.op.dropShadows&&!($.browser.msie&&$.browser.version<7))menuClasses.push(c.shadowClass);$(this).addClass(menuClasses.join(' '));});};var sf=$.fn.superfish;sf.o=[];sf.op={};sf.IE7fix=function(){var o=sf.op;if($.browser.msie&&$.browser.version>6&&o.dropShadows&&o.animation.opacity!=undefined)this.toggleClass(sf.c.shadowClass+'-off');};sf.c={bcClass:'sf-breadcrumb',menuClass:'sf-js-enabled',anchorClass:'sf-with-ul',arrowClass:'sf-sub-indicator',shadowClass:'sf-shadow'};sf.defaults={hoverClass:'sfHover',pathClass:'overideThisToUse',pathLevels:1,delay:800,animation:{opacity:'show'},speed:'normal',autoArrows:true,dropShadows:true,disableHI:false,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}};$.fn.extend({hideSuperfishUl:function(){var o=sf.op,not=(o.retainPath===true)?o.$path:'';o.retainPath=false;var $ul=$(['li.',o.hoverClass].join(''),this).add(this).not(not).removeClass(o.hoverClass).find('>ul').hide().css('visibility','hidden');o.onHide.call($ul);return this;},showSuperfishUl:function(){var o=sf.op,sh=sf.c.shadowClass+'-off',$ul=this.addClass(o.hoverClass).find('>ul:hidden').css('visibility','visible');sf.IE7fix.call($ul);o.onBeforeShow.call($ul);$ul.animate(o.animation,o.speed,function(){sf.IE7fix.call($ul);o.onShow.call($ul);});return this;}});})(jQuery);$.ajaxSetup({cache: true});$('#n-about > a').click(function(e){e.preventDefault();aboutOpen();});$('#n-contact').click(function(e){e.preventDefault();contactOpen();});$('#n-links').click(function(e){e.preventDefault();linksOpen();});function aboutOpen(){$('#page-content-wrap').fadeIn(500);$('#page-content').load("/about/index.html"+" #content");modalwindow();a=true;return a;}function contactOpen(){$('#page-content-wrap').fadeIn(500);$('#page-content').load("/contact/index.html"+" #content");modalwindow();a=true;return a;}function linksOpen(){$('#page-content-wrap').fadeIn(500);$('#page-content').load("/links/index.html"+" #content");modalwindow();a=true;return a;}function modalwindow(){var maskHeight=$(document).height();var maskWidth=$(document).width();$('#mask').css({'width':maskWidth,'height':maskHeight});$('#mask').fadeTo("slow",0.2);$('#page-content-wrap').css('left',$(document).width()/2-$('#page-content-wrap').width()/2);}$(window).resize(function(){$('#page-content-wrap').css('left',$(document).width()/2-$('#page-content-wrap').width()/2);$('#mask').css({'width':$(document).width(),'height':$(document).height()});});$(document).ready(function(){$('#gallery-wrapper').css({'overflow' : 'hidden'});$('#gallery-wrapper').css({'width' : '100%'});$('#gallery-thumbs').show();$('#gallery-wrapper').css({'margin' : '0'});$('#gallery-thumbs img').before('<div id="gallery-gloss"></div>');$('.inside img').fadeTo(100,0.3);$('.current img').fadeTo("slow",1);$("#thumb-slider").mopSlider({'w': 700,'h': 120,'sldW':700,'btnW':200,'itemMgn':10,'indi':'','shuffle':'n','type':'paper','no':'02'});windowWidth=$(document).width()/2-360;$(".subnav-prev").click(function(){$("#subnav li").animate({"left": "+=200px"},"slow");return false;});$(".subnav-next").click(function(){$("#subnav li").animate({"left": "-=200px"},"slow");return false;});$('#gallery-nav').superfish();$('.cancel,#close-modal').live('click',function(e){e.preventDefault();$('#mask').hide();$('#page-content-wrap').hide();});$(".submit,#contactform").live('submit',function(e){$('label').removeClass('error');var name=$("input#name").val();var email=$("input#email").val();var phone=$("input#phone").val();var message=$("#message").val();if(name==""){$("label[for='name']").addClass('error');$("input#name").focus();return false;}if(isValidEmailAddress(email)){}else{$("label[for='email']").addClass('error');$("input#email").focus();return false;}if(message==""){$("label[for='message']").addClass('error');$("input#message").focus();return false;}var dataString='name='+name+'&email='+email+'&phone='+phone+'&message='+message;$.ajax({type: "POST",url: "/contact/email.php",data: dataString,success: function(){$('.col-l').empty();$('.col-l').html('<h2 id="h-thankyou">Thank You</h2>');$('.col-l').append('<p>Thank you for contacting me,I will be in touch shortly.</p>');}});return false;});$('#mask').click(function(){$(this).hide();$('#page-content-wrap').hide();});function isValidEmailAddress(emailAddress){var pattern=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);return pattern.test(emailAddress);}$('.link-list a,#facebook,#flickr,.external').live('click',function(){window.open(this.href);return false;});$('.photo-wrap input[type=checkbox]:checked').parent().parent().parent().addClass('delete');$('.photo-wrap input[type=checkbox]').click(function(){if($(this).attr('checked')){$(this).parent().parent().parent().addClass('delete');}else{$(this).parent().parent().parent().removeClass('delete');}});});$(function(){var totalPanels=$(".scrollContainer").children().size();var windowWidth=$(document).width()/2-360;var movingDistance=720;var $panels=$('#gallery .scrollContainer>div');var $container=$('#gallery .scrollContainer');var panelToScrollTo;var movement;var next;var leftValue;var id;$panels.css({'float' : 'left','position' : 'relative'});$("#gallery").data("currentlyMoving",false);$container .css('width',($panels[0].offsetWidth*$panels.length)+400).css('left',windowWidth);var scroll=$('#gallery .scroll').css('overflow','hidden');$(window).resize(function(){oldLeft=$('#gallery .scrollContainer').css('left').split("px")[0];newWindowWidth=$(document).width()/2-360;newLeft=oldLeft-windowWidth+newWindowWidth;$('#gallery .scrollContainer').css('left',newLeft);windowWidth=newWindowWidth;});function returnToNormal(element){};function growBigger(element){};function change(direction){if((direction&&!(curPanel<totalPanels))||(!direction&&(curPanel<=1))){return false;}if(($("#gallery").data("currentlyMoving")==false)){$("#gallery").data("currentlyMoving",true);next=direction?curPanel+1 : curPanel-1;leftValue=$(".scrollContainer").css("left");movement=direction?panelToScrollTo*-movingDistance+windowWidth : panelToScrollTo*-movingDistance+windowWidth;$(".scrollContainer").stop().animate({"left": movement},function(){$("#gallery").data("currentlyMoving",false);});returnToNormal("#panel_"+curPanel);growBigger("#panel_"+next);curPanel=id;}}var curPanel=1;$('.original').click(function(){id=$(this).attr('id');id=id.replace('original-','');$('.current img').fadeTo("slow",0.3);$(".current").removeClass('current');$(this).parent().addClass('current');$(this).fadeTo("slow",1);panelToScrollTo=id-1;if(curPanel<=panelToScrollTo){change(true);}else{change(false);}});$('ul#thumb-slider li').click(function(){id=$(this).attr('id');id=id.replace('thumb-','');$('.current img').fadeTo("slow",0.3);$(".current").removeClass('current');$("#original-"+id).parent().addClass('current');$(".current>img").fadeTo('slow',1);panelToScrollTo=id-1;if(curPanel<=panelToScrollTo){change(true);}else{change(false);}});});



